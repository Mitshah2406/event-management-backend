# Production Environment Configuration Template
# Copy this file to .env.prod and fill in the actual values
# NEVER commit .env.prod to version control

# 
# SERVER CONFIGURATION
# 
PORT=8080
GIN_MODE=release
API_VERSION=v1
API_PREFIX=/api

# Server timeouts (in seconds)
READ_TIMEOUT=15s
WRITE_TIMEOUT=15s
IDLE_TIMEOUT=60s
MAX_HEADER_BYTES=1048576

# 
# DATABASE CONFIGURATION
# 
DB_HOST=postgres
DB_PORT=5432
DB_NAME=evently_prod
DB_USER=evently_user
DB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_FOR_DATABASE
DB_SSLMODE=require

# 
# REDIS CONFIGURATION
# 
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_STRONG_PASSWORD_FOR_REDIS
REDIS_DB=0

# Redis TTL configurations (in Go duration format)
REDIS_SEAT_HOLD_TTL=10m
REDIS_SESSION_TTL=24h
REDIS_CACHE_TTL=1h
REDIS_TEMP_DATA_TTL=5m

# 
# JWT CONFIGURATION
# 
JWT_SECRET=CHANGE_ME_VERY_STRONG_JWT_SECRET_AT_LEAST_64_CHARACTERS_LONG_12345
JWT_EXPIRES_IN=900          # 15 minutes in seconds
JWT_REFRESH_EXPIRES_IN=86400  # 24 hours in seconds

# 
# RATE LIMITING CONFIGURATION
# 
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_DURATION=60s
RATE_LIMIT_DEFAULT_REQUESTS=100
RATE_LIMIT_PUBLIC_REQUESTS=300
RATE_LIMIT_AUTH_REQUESTS=30
RATE_LIMIT_BOOKING_REQUESTS=80
RATE_LIMIT_BOOKING_CRITICAL_REQUESTS=20
RATE_LIMIT_ADMIN_REQUESTS=600
RATE_LIMIT_ANALYTICS_REQUESTS=120
RATE_LIMIT_USER_REQUESTS=150
RATE_LIMIT_HEALTH_REQUESTS=1000
# Comma-separated list of whitelisted IPs
RATE_LIMIT_WHITELISTED_IPS=127.0.0.1,::1

# 
# EMAIL CONFIGURATION
# 
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
FROM_EMAIL=noreply@evently.com

# 
# KAFKA CONFIGURATION
# 
KAFKA_BROKERS=kafka:29092
KAFKA_CONSUMER_GROUP=evently-notifications
KAFKA_EMAIL_TOPIC=email-notifications
KAFKA_SMS_TOPIC=sms-notifications

# 
# FILE UPLOAD CONFIGURATION
# 
MAX_UPLOAD_SIZE=10485760  # 10MB in bytes
UPLOAD_PATH=/app/uploads

# 
# LOGGING CONFIGURATION
# 
LOG_LEVEL=info

# 
# SECURITY HEADERS & CORS
# 
# Add your production domain
ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,HEAD,OPTIONS
ALLOWED_HEADERS=Origin,Content-Length,Content-Type,Authorization

# 
# MONITORING & HEALTH CHECKS
# 
HEALTH_CHECK_ENABLED=true
METRICS_ENABLED=true

# 
# PRODUCTION DEPLOYMENT INFO
# 
# Used by deployment scripts
DEPLOY_USER=deploy
DEPLOY_HOST=your-vps-ip-or-domain
DEPLOY_PATH=/opt/evently
BACKUP_RETENTION_DAYS=7

# 
# SSL/TLS CONFIGURATION (if using nginx)
# 
SSL_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# 
# IMPORTANT SECURITY NOTES:
# 
# 1. Generate strong passwords for DB_PASSWORD and REDIS_PASSWORD
# 2. Use a secure JWT_SECRET (at least 64 characters)
# 3. Replace all CHANGE_ME values with actual secure values
# 4. Keep this file secure and never commit to version control
# 5. Use environment-specific values for different deployment environments
# 6. Regularly rotate passwords and secrets